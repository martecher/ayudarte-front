 <!--
//segun hallamos elegido anteriormente "Terminar" o "Aceptar" 
  	// dependiendo de eso le habre mostrado un formulario u otro pero todos vendran al metodo
  	// actualizarActividad que asignará las propiedades y llamará al api rest de actualizar la tarea completa. Habrá que hacerlo con lo de ngModel o algo así
  	// la opción    "Consultar" no  se contempla ya que no será un formulario si no datos solo lectura
-->
<main role="main">

    <h2>{{operacion}} tarea</h2>
    <!-- Formulario Terminar -->
    <spam>poner un boton en cada formulario para crear un mensaje y asi saber quien es el que envia y el que recibe en cada caso segun sea el formulario en cuestion</spam>
    <div class="form-group" *ngIf="operacion=='Terminar'">
      <form [formGroup]="terminarForm" (ngSubmit)="actualizarActividad()">
        <div class="form-group">
          <label igxLabel for="descripcionTarea">Tarea</label>
          <input type="text"
                 placeholder="Tarea"
                 name="descripcionTarea"
                 formControlName="descripcionTarea"
                  readonly="true" 
          >
        </div>
        <div class="form-group">
        <label igxLabel for="usuario_solicita">Usuario solicitante</label>
          <input type="text"
                  placeholder="Usuario que solicita"
                  formControlName="usuario_solicita"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="usuario_solicita">Usuario que realiza</label>
          <input type="text"
                  placeholder="Usuario que realiza"
                  formControlName="usuario_realiza"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="observacion">observacion</label>
          <input type="text"
                  placeholder="observacion"
                  formControlName="observacion"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="horasReales">horas reales OJO SEPARADO CON . no con ,</label>
          <input type="number"
                  placeholder="Horas Reales"
                  formControlName="horasReales"
          >
        </div>
        <div class="form-group">

        <label igxLabel for="puntuacionSolicita">Puntua al usuario que solicita</label>
        <p class="clasificacion">
          <input class="radioEstrella" id="radio1" type="radio" formControlName="puntuacionSolicita" value="5"  >
          <label class="estrella" for="radio1">★</label>

          <input class="radioEstrella" id="radio2" type="radio" formControlName="puntuacionSolicita" value="4" >
          <label class="estrella" for="radio2">★</label>

          <input class="radioEstrella" id="radio3" type="radio" formControlName="puntuacionSolicita" value="3" >
          <label class="estrella" for="radio3">★</label>

          <input class="radioEstrella" id="radio4" type="radio"  formControlName="puntuacionSolicita" value="2"  >
          <label class="estrella" for="radio4">★</label>

          <input class="radioEstrella" id="radio5" type="radio" formControlName="puntuacionSolicita" value="1"  >
          <label class="estrella"  for="radio5">★</label>
        </p>
      </div>
        <button type="submit">Guardar</button>
        <button type="submit" (click)="volver()" >Volver</button>

      </form>
    </div>
    <!-- Fin del formulario Terminar  -->

    <!-- Formulario Consultar -->
    <div class="form-group" *ngIf="operacion=='Consultar'">
      <form [formGroup]="consultarForm" (ngSubmit)="actualizarActividad()">
        <div class="form-group">

        <label igxLabel for="descripcionTarea">Tarea</label>
          <input type="text"
                 placeholder="Tarea"
                 name="descripcionTarea"
                 formControlName="descripcionTarea"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="usuario_solicita">Usuario solicitante</label>
          <input type="text"
                  placeholder="Usuario que solicita"
                  formControlName="usuario_solicita"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="usuario_solicita">Usuario que realiza</label>
          <input type="text"
                  placeholder="Usuario que realiza"
                  formControlName="usuario_realiza"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="observacion">observacion</label>

          <input type="text"
                  placeholder="observacion"
                  formControlName="observacion"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="horasReales">horas reales</label>
          <input type="number"
                  placeholder="Horas Reales"
                  formControlName="horasReales"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="puntuacionSolicita">Puntuación al usuario que solicita</label>
          <input type="number"
                  placeholder="puntuacionSolicita"
                  formControlName="puntuacionSolicita"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="valoracion">Puntuación al usuario que realiza</label>
          <input type="number"
                  placeholder="valoracion"
                  formControlName="valoracion"
                  readonly="true" 
          >
        </div>
        <button type="submit">Volver</button>
      </form>
    </div>
    <!-- Fin del formulario Consultar  -->

    <!-- Formulario Aceptar -->
    <div class="form-group" *ngIf="operacion=='Aceptar'">
      <form [formGroup]="aceptarForm" (ngSubmit)="actualizarActividad()">
        <div class="form-group">

        <label igxLabel for="descripcionTarea">Tarea</label>
          <input type="text"
                 placeholder="Tarea"
                 name="descripcionTarea"
                 formControlName="descripcionTarea"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="usuario_solicita">Usuario solicitante</label>
          <input type="text"
                  placeholder="Usuario que solicita"
                  formControlName="usuario_solicita"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="usuario_solicita">Usuario que realiza</label>
          <input type="text"
                  placeholder="Usuario que realiza"
                  formControlName="usuario_realiza"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="observacion">observacion</label>

          <input type="text"
                  placeholder="observacion"
                  formControlName="observacion"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="horasReales">Horas reales OJO SEPARADO CON . no con ,</label>
          <input type="number"
                  placeholder="Horas Reales"
                  formControlName="horasReales"
                  readonly="true" 
          >
        </div>
        <div class="form-group">

        <label igxLabel for="valoracion">Puntua al usuario que realiza</label>
        <p class="clasificacion">
          <input class="radioEstrella" id="radio1" type="radio" formControlName="valoracion" value="5"  >
          <label class="estrella" for="radio1">★</label>

          <input class="radioEstrella" id="radio2" type="radio" formControlName="valoracion" value="4" >
          <label class="estrella" for="radio2">★</label>

          <input class="radioEstrella" id="radio3" type="radio" formControlName="valoracion" value="3" >
          <label class="estrella" for="radio3">★</label>

          <input class="radioEstrella" id="radio4" type="radio"  formControlName="valoracion" value="2"  >
          <label class="estrella" for="radio4">★</label>

          <input class="radioEstrella" id="radio5" type="radio" formControlName="valoracion" value="1"  >
          <label class="estrella"  for="radio5">★</label>
        </p>
      </div>
        <button type="submit">Guardar</button>
        <button type="submit" (click)="volver()" >Volver</button>
   

      </form>
    </div>
    
    <!-- Fin del formulario Aceptar  -->

    <!-- Formulario nuevo mensaje  -->

    <div class="form-group" >
      <form [formGroup]="mensajeForm" (ngSubmit)="enviarMensaje()">
         <div class="form-group">

        <label igxLabel for="texto">Mensaje</label>

          <input type="textarea"
                  placeholder="texto"
                  formControlName="texto"
                  readonly="true" 
          >
        </div>
        <a href="#" ><i class="nc-icon nc-send"></i></a>

      </form>
    </div>


    <!-- Fin del formulario  nuevo mensaje  -->


    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">Mensajes de la tarea</h4>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table">
                <thead class=" text-primary">
                  <th *ngFor="let header of tableData1.headerRow">
                    <div class="contenidoCentrado">
                      <span>{{header}}</span>
                    </div>
                  </th>
                 </thead>
                <tbody>
                  <tr *ngFor="let dataRows of tableData1.dataRows">
                    <td>
                      <div class="contenidoCentrado">
                        <span>{{dataRows[2]}}</span>
                      </div>
                    </td>
                    <td>
                      <div class="contenidoCentrado">
                        <span>{{dataRows[3]}}</span>
                      </div>
                    </td>
                    <td>
                      <div class="contenidoCentrado">
                        <span>{{dataRows[4]}}</span>
                      </div>
                    </td>
                    <td>
                      <div class="contenidoCentrado">
                        <i class="nc-icon nc-check-2"></i>                      
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
</main>